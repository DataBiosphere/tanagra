{
  "name": "cpt4_person_occurrences",
  "type": "CRITERIA_OCCURRENCE",
  "criteriaEntity": "cpt4",
  "occurrenceEntities": [ "procedure_occurrence", "measurement_occurrence", "observation_occurrence", "ingredient_occurrence" ],
  "sourceDataMapping": {
    "dataPointer": "omop_dataset",
    "relationshipMappings": {
      "occurrenceToCriteria:ingredient_occurrence": {
        "idPairsTable": { "rawSqlFile": "cpt4_ingredientOccurrence.sql" },
        "idPairsIdA": { "column": "drug_exposure_id" },
        "idPairsIdB":  { "column": "cpt4_id" }
      },
      "occurrenceToPrimary:ingredient_occurrence": {
        "idPairsTable": { "table": "drug_exposure" },
        "idPairsIdA": { "column": "drug_exposure_id" },
        "idPairsIdB":  { "column": "person_id" }
      },
      "occurrenceToCriteria:measurement_occurrence": {
        "idPairsTable": { "rawSqlFile": "cpt4_measurementOccurrence.sql" },
        "idPairsIdA": { "column": "measurement_id" },
        "idPairsIdB":  { "column": "cpt4_id" }
      },
      "occurrenceToPrimary:measurement_occurrence": {
        "idPairsTable": { "table": "measurement" },
        "idPairsIdA": { "column": "measurement_id" },
        "idPairsIdB":  { "column": "person_id" }
      },
      "occurrenceToCriteria:observation_occurrence": {
        "idPairsTable": { "rawSqlFile": "cpt4_observationOccurrence.sql" },
        "idPairsIdA": { "column": "observation_id" },
        "idPairsIdB":  { "column": "cpt4_id" }
      },
      "occurrenceToPrimary:observation_occurrence": {
        "idPairsTable": { "table": "observation" },
        "idPairsIdA": { "column": "observation_id" },
        "idPairsIdB":  { "column": "person_id" }
      },
      "occurrenceToCriteria:procedure_occurrence": {
        "idPairsTable": { "rawSqlFile": "cpt4_procedureOccurrence.sql" },
        "idPairsIdA": { "column": "procedure_occurrence_id" },
        "idPairsIdB":  { "column": "cpt4_id" }
      },
      "occurrenceToPrimary:procedure_occurrence": {
        "idPairsTable": { "table": "procedure_occurrence" },
        "idPairsIdA": { "column": "procedure_occurrence_id" },
        "idPairsIdB":  { "column": "person_id" }
      },
      "criteriaToPrimary": {
        "idPairsTable": { "rawSqlFile": "cpt4_person.sql" },
        "idPairsIdA": { "column": "cpt4_id" },
        "idPairsIdB":  { "column": "person_id" }
      }
    }
  },
  "indexDataMapping": {
    "dataPointer": "index_dataset"
  }
}