{
  "name": "observation_occurrence",
  "idAttribute": "id",
  "attributes": [
    { "type": "SIMPLE", "name": "id", "dataType": "INT64" },
    { "type": "SIMPLE", "name": "person_id", "dataType": "INT64", "displayHintTypes": ["NONE"] },
    { "type": "KEY_AND_DISPLAY", "name": "observation", "dataType": "INT64" },
    { "type": "SIMPLE", "name": "date", "dataType": "TIMESTAMP", "displayHintTypes": ["NONE"] },
    { "type": "SIMPLE", "name": "value_as_string", "dataType": "STRING", "displayHintTypes": ["NONE"] },
    { "type": "KEY_AND_DISPLAY", "name": "value", "dataType": "INT64", "displayHintTypes": ["NONE"] },
    { "type": "KEY_AND_DISPLAY", "name": "unit", "dataType": "INT64", "displayHintTypes": ["NONE"] },
    { "type": "SIMPLE", "name": "source_value", "dataType": "STRING", "displayHintTypes": ["NONE"] },
    { "type": "SIMPLE", "name": "source_criteria_id", "dataType": "INT64", "displayHintTypes": ["NONE"] },
    { "type": "SIMPLE", "name": "age_at_occurrence", "dataType": "INT64" },
    { "type": "SIMPLE", "name": "visit_occurrence_id", "dataType": "INT64", "displayHintTypes": ["NONE"] },
    { "type": "KEY_AND_DISPLAY", "name": "visit_type", "dataType": "INT64" }
  ],

  "sourceDataMapping": {
    "dataPointer": "omop_dataset",
    "tablePointer": { "rawSqlFile": "observation_occurrence_all.sql" },
    "attributeMappings": {
      "observation": {
        "value": { "column": "observation_concept_id" },
        "display": {
          "column": "observation_concept_id",
          "foreignTable": "concept",
          "foreignKey": "concept_id",
          "foreignColumn": "concept_name" } },
      "date": { "value": { "column": "observation_date" } },
      "value": {
        "value": { "column": "value_as_concept_id" },
        "display": {
          "column": "value_as_concept_id",
          "foreignTable": "concept",
          "foreignKey": "concept_id",
          "foreignColumn": "concept_name" } },
      "unit": {
        "value": { "column": "unit_concept_id" },
        "display": {
          "column": "unit_concept_id",
          "foreignTable": "concept",
          "foreignKey": "concept_id",
          "foreignColumn": "concept_name" } },
      "visit_type": {
        "value": { "column": "visit_concept_id" },
        "display": {
          "column": "visit_concept_id",
          "foreignTable": "concept",
          "foreignKey": "concept_id",
          "foreignColumn": "concept_name" } }
    }
  },

  "indexDataMapping": {
    "dataPointer": "index_dataset"
  }
}
