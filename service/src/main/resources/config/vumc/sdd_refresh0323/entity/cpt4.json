{
  "name": "cpt4",
  "idAttribute": "id",
  "attributes": [
    { "type": "SIMPLE", "name": "id", "dataType": "INT64" },
    { "type": "SIMPLE", "name": "concept_id", "dataType": "INT64" },
    { "type": "SIMPLE", "name": "name", "dataType": "STRING", "displayHintTypes": ["NONE"] },
    { "type": "SIMPLE", "name": "vocabulary", "dataType": "STRING" },
    { "type": "KEY_AND_DISPLAY", "name": "is_standard", "dataType": "INT64" },
    { "type": "SIMPLE", "name": "code", "dataType": "STRING", "displayHintTypes": ["NONE"] },
    { "type": "SIMPLE", "name": "label", "dataType": "STRING", "displayHintTypes": ["NONE"] }
  ],

  "sourceDataMapping": {
    "dataPointer": "omop_dataset",
    "tablePointer": {
      "rawSqlFile": "cpt4_all.sql"
    },
    "attributeMappings": {
      "vocabulary": { "value": { "column": "type" } },
      "is_standard": {
        "value": { "column": "is_standard" },
        "display": {
          "column": "is_standard",
          "sqlFunctionWrapper": "(CASE WHEN ${fieldSql} = 0 THEN 'Source' ELSE 'Standard' END)" } } },
    "textSearchMapping": { "attributes": [ "id", "name", "code" ] },
    "hierarchyMappings": {
      "standard": {
        "childParent": {
          "tablePointer": { "rawSqlFile": "cpt4_parentChild.sql" }
        },
        "rootNodesFilter": {
          "tablePointer": { "rawSqlFile": "cpt4_rootNodesFilter.sql" }
        },
        "maxHierarchyDepth": 10
      }
    }
  },

  "indexDataMapping": {
    "dataPointer": "index_dataset"
  }
}