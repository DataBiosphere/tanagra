{
  "type" : "CRITERIA_OCCURRENCE",
  "name" : "device_person_occurrence",
  "entities" : {
    "criteria" : "device",
    "occurrence" : "device_occurrence"
  },
  "sourceDataMapping" : {
    "dataPointer" : "omop_dataset",
    "relationshipMappings" : {
      "occurrenceToCriteria" : {
        "tablePointer" : {
          "table" : "device_exposure"
        },
        "fromEntityId" : {
          "column" : "device_exposure_id"
        },
        "toEntityId" : {
          "column" : "device_concept_id"
        }
      },
      "occurrenceToPrimary" : {
        "tablePointer" : {
          "table" : "device_exposure"
        },
        "fromEntityId" : {
          "column" : "device_exposure_id"
        },
        "toEntityId" : {
          "column" : "person_id"
        }
      }
    },
    "auxiliaryDataMappings" : {
      "criteriaPrimaryRollupCount" : {
        "tablePointer" : {
          "table" : "device_person_occurrence_criteriaPrimaryRollupCount"
        },
        "fieldPointers" : {
          "id" : {
            "column" : "id"
          },
          "rollup_count" : {
            "column" : "rollup_count"
          }
        }
      }
    }
  },
  "indexDataMapping" : {
    "dataPointer" : "index_dataset",
    "relationshipMappings" : {
      "occurrenceToCriteria" : {
        "tablePointer" : {
          "table" : "device_exposure"
        },
        "fromEntityId" : {
          "column" : "device_exposure_id"
        },
        "toEntityId" : {
          "column" : "device_concept_id"
        }
      },
      "occurrenceToPrimary" : {
        "tablePointer" : {
          "table" : "device_exposure"
        },
        "fromEntityId" : {
          "column" : "device_exposure_id"
        },
        "toEntityId" : {
          "column" : "person_id"
        }
      }
    },
    "auxiliaryDataMappings" : {
      "criteriaPrimaryRollupCount" : {
        "tablePointer" : {
          "table" : "device_person_occurrence_criteriaPrimaryRollupCount"
        },
        "fieldPointers" : {
          "id" : {
            "column" : "id"
          },
          "rollup_count" : {
            "column" : "rollup_count"
          }
        }
      }
    }
  }
}