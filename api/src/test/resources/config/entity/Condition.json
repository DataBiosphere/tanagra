{
  "name": "condition",
  "idAttribute": "id",
  "attributes": [
    { "type": "SIMPLE", "name": "id" },
    { "type": "SIMPLE", "name": "name" },
    { "type": "KEY_AND_DISPLAY", "name": "vocabulary" } ],

  "sourceDataMapping": {
    "dataPointer": "omop_dataset",
    "tablePointer": {
      "table": "concept",
      "filter": {
          "type": "ARRAY",
          "operator": "AND",
          "subfilters": [
            { "type": "BINARY",
              "field": { "column": "domain_id" },
              "operator": "EQUALS",
              "value": { "stringVal": "Condition" } },
            { "type": "BINARY",
              "field": { "column": "valid_end_date" },
              "operator": "GREATER_THAN",
              "value": { "stringVal": "2022-01-01" } } ] } },
    "attributeMappings": {
      "id": { "value": { "column": "concept_id" } },
      "name": { "value": { "column": "concept_name" } },
      "vocabulary": {
        "value": { "column": "vocabulary_id" },
        "display": {
          "column": "vocabulary_id",
          "foreignTable": "vocabulary",
          "foreignKey": "vocabulary_id",
          "foreignColumn": "vocabulary_name" } } },
    "textSearchMapping": {
      "attributes": [ "id", "name" ]
    }
  },

  "indexDataMapping": {
    "dataPointer": "index_dataset"
  }
}